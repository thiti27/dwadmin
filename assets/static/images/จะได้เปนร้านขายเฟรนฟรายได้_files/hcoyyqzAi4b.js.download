if (self.CavalryLogger) { CavalryLogger.start_js(["5vtiN"]); }

__d("FantaTypeFileUploaderFile",["immutable"],(function(a,b,c,d,e,f){"use strict";a={file:{},id:"",startTime:0,type:null,uploadedID:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaReducersFileUploader",["fbt","Bootloader","ChatFileUploadLoggingUtils","Dialog","FantaMessageActions","FantaTypeFileUploaderFile","FBLogger","MercuryConstants","PhotosUploadID","WorkContentActivitySurface"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FantaMessageActions").Types;function i(a){if(!a)return;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger","MessengerShareFilePreviewFunnelLoggerConstants"],function(b,c){b.startFunnelIfNotStarted(a),b.appendAction(!0,c.PREPARE_FILES_FOR_SEND,a)},"FantaReducersFileUploader")}function j(a,c){if(!a)return;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger"],function(b,d){b.appendAction(!0,c.toLowerCase(),a)},"FantaReducersFileUploader")}function a(a,b){switch(b.type){case h.PREPARE_FILES_FOR_SEND:var c=b.files,d=b.tabID;b=b.composer;var e=a.mercury.tabContents.get(d);if(!e||e&&e.composer.version!==b.version)return a;i(d);return k(a,d,c)}return a}function k(a,c,d){__p&&__p();for(var e=0;e<d.length;e++){var f=d[e];b("ChatFileUploadLoggingUtils").log(f,b("WorkContentActivitySurface").CHAT_TAB);if(f.size>b("MercuryConstants").AttachmentMaxSize){new(b("Dialog"))().setTitle(g._("The file you have selected is too large")).setBody(g._("The file you have selected is too large. The maximum size is 25MB.")).setButtons(b("Dialog").OK).setSemiModal(!0).show();b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return a}}for(var f=0;f<d.length;f++){e=d[f];var h=m();a=l(a,c,h,e)}return a}function l(a,c,d,e){if(!a.mercury.tabContents.get(c))return a;a=a.setIn(["mercury","tabContents",c,"composer","fileUploader","uploadedFiles",d],new(b("FantaTypeFileUploaderFile"))({file:e,id:d,startTime:Date.now()}));return a}function c(a,b){__p&&__p();switch(b.type){case h.CANCEL_FILE_UPLOAD:var c=b.uploadID,d=b.tabID,e=a.mercury.tabContents.get(d);if(!e)return a;var f=e.composer.fileUploader.uploadingFiles.get(c);j(d,b.type);if(f)a=a.deleteIn(["mercury","tabContents",d,"composer","fileUploader","uploadingFiles",c]);else{b=e.composer.fileUploader.uploadedFiles.get(c);b&&(a=a.deleteIn(["mercury","tabContents",d,"composer","fileUploader","uploadedFiles",c]))}}return a}function m(){return"upload_"+b("PhotosUploadID").getNewID()}e.exports={cancelFileUpload:c,prepareFilesForSend:a}}),null);
__d("MessengerDragAndDrop.react",["Bootloader","JSResource","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","lazyLoadComponent","emptyFunction","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=960;a=b("React").PropTypes;var h=b("lazyLoadComponent")(b("JSResource")("MercurySharePreview.react").__setRef("MessengerDragAndDrop.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.$4(function(b){b.removeSharePreview(a)})},c.$2=function(a,b){c.$4(function(c){c.loadedShareData(a,b)})},c.$3=function(a){c.$4(function(b){b.loadingShareData(a)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"MessengerDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"MessengerDragAndDrop.react")};d.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!!(!b.sharePreview&&a.sharePreview)||!!(b.sharePreview&&a.sharePreview&&!b.sharePreview.equals(a.sharePreview))};d.render=function(){var a=this.props,c=a.sharePreview;a=a.threadID;c=c||{};var d=c.share;c=c.uri;return d||c?b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{onClose:this.$1,onLoaded:this.$2,onLoading:this.$3,threadID:a,imageSize:{width:g,height:g},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:d,uri:c})))):null};d.$4=function(a){__p&&__p();var c=this;b("setImmediate")(function(){typeof c.props.onResize==="function"&&c.props.onResize()});b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"MessengerDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"MessengerDragAndDrop.react")})};return c}(b("React").Component);c.propTypes={threadID:a.string.isRequired};e.exports=c}),null);
__d("MessengerRevokeGroupLinkDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","ReasonReact.bs","MercuryThreadActions","MessengerDialogReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c){switch(a){case 0:return b("bs_block").__(0,[[!1,c[1]]]);case 1:return b("bs_block").__(0,[[!0,c[1]]]);case 2:return b("bs_block").__(0,[[c[0],!1]])}}var j=b("ReasonReact.bs").reducerComponent("MessengerRevokeGroupLinkDialogReact");function a(a,c,d,e){__p&&__p();return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(e){__p&&__p();var f=function(){b("bs_curry")._1(e[3],2);return b("bs_curry")._1(d,0)};return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0](void 0,void 0,void 0,e[1][1],void 0,void 0,448,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("\u0e16\u0e2d\u0e19\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e02\u0e2d\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48")}),b("React").createElement("div",{className:"_6b7t"},h._("\u0e01\u0e32\u0e23\u0e16\u0e2d\u0e19\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e19\u0e35\u0e49\u0e08\u0e30\u0e25\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e25\u0e38\u0e48\u0e21\u0e19\u0e35\u0e49\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 \u0e41\u0e25\u0e30\u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e43\u0e2b\u0e21\u0e48\u0e42\u0e14\u0e22\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34")),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer[0](void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,h._("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"),void 0,void 0,function(){return b("bs_curry")._1(e[3],2)},0,void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,h._("\u0e16\u0e2d\u0e19"),!e[1][0],void 0,function(d){__p&&__p();var g=a,h=c;d=d;if(e[1][0]){b("bs_curry")._1(e[3],0);b("MercuryThreadActions").getForFBID(g).revokeAndRegenerateJoinableLink(h,f);return 0}else{d.preventDefault();return 0}},0,"_6b7u",void 0,void 0,[]))]))]))},function(){return[!0,!0]},j[10],i,j[12]]}f.reducer=i;f.component=j;f.make=a}),null);
__d("MessengerManageGroupLinkDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogs.bs","FBClipboardLinkReact.bs","MessengerDialogReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerRevokeGroupLinkDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponent("MessengerManageGroupLinkDialogReact");function j(a,c,d,e){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(e){var f=function(){return b("bs_curry")._1(e[3],0)},g=b("React").createElement("div",{className:"_6b88 _6b89"},h._("\u0e04\u0e31\u0e14\u0e25\u0e2d\u0e01\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e02\u0e2d\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21"),b("ReasonReact.bs").element(void 0,void 0,b("FBClipboardLinkReact.bs").make("_6b8a",d.replace("https://",""),d.replace("https://",""),void 0,void 0,void 0,void 0,"below","center",void 0,void 0,[]))),i=b("React").createElement(b("React").Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](void 0,[])),b("React").createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e02\u0e2d\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,h._("\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22"),void 0,void 0,function(){return b("bs_curry")._1(e[3],0)},0,void 0,void 0,void 0,[])));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0](void 0,void 0,void 0,e[1][0],void 0,"default",544,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:i}),g,b("React").createElement("div",{className:"_6b8b _6b89"},h._("\u0e17\u0e38\u0e01\u0e04\u0e19\u0e17\u0e35\u0e48\u0e21\u0e35\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e19\u0e35\u0e49\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e25\u0e38\u0e48\u0e21\u0e44\u0e14\u0e49 \u0e14\u0e39\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e41\u0e25\u0e30\u0e14\u0e39\u0e0a\u0e37\u0e48\u0e2d\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e41\u0e25\u0e30\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21 \u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e16\u0e2d\u0e19\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e44\u0e14\u0e49\u0e17\u0e38\u0e01\u0e40\u0e21\u0e37\u0e48\u0e2d \u0e42\u0e1b\u0e23\u0e14\u0e41\u0e0a\u0e23\u0e4c\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e01\u0e31\u0e1a\u0e04\u0e19\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e44\u0e27\u0e49\u0e27\u0e32\u0e07\u0e43\u0e08\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19")),b("React").createElement("div",{className:"_6b8c _6b89",onClick:function(d){var e=a,g=c;return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerRevokeGroupLinkDialogReact.bs").make(e,g,f,[]))})}},h._("\u0e16\u0e2d\u0e19\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e02\u0e2d\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21")),b("React").createElement("div",{className:"_6b8b _6b89"},h._("\u0e01\u0e32\u0e23\u0e16\u0e2d\u0e19\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e19\u0e35\u0e49\u0e08\u0e30\u0e25\u0e1a\u0e04\u0e33\u0e02\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e25\u0e38\u0e48\u0e21\u0e19\u0e35\u0e49\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 \u0e41\u0e25\u0e30\u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e43\u0e2b\u0e21\u0e48\u0e42\u0e14\u0e22\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34"))]))},function(){return[!0]},i[10],function(a,c){return b("bs_block").__(0,[[!1]])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.viewer,a.threadID,a.joinableLink,a.children)});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerGroupLinkSectionReact.bs",["cx","fbt","React","LinkReact.bs","ReasonReact.bs","bs_js_primitive","MessengerDialogs.bs","MessengerMenuReact.bs","FBClipboardLinkReact.bs","MessengerPopoverMenuReact.bs","AbstractPopoverButtonReact.bs","MessengerManageGroupLinkDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c,d,e){e.preventDefault();return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerManageGroupLinkDialogReact.bs").make(a,c,d,[]))})}function a(a){var c=a.joinableLink,d=a.viewer,e=a.threadID;a=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").Menu[0]([b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,h._("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21"),function(a){return i(d,e,c,a)},void 0,[]))]));var f=h._("\u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21");f={button:b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,f,"_30yy _6dlm",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,f,[])),defaultMaxWidth:200};return b("React").createElement("div",{className:"_6dln"},b("ReasonReact.bs").element(void 0,void 0,b("FBClipboardLinkReact.bs").make("_6dlo",c.replace("https://",""),c.replace("https://",""),void 0,void 0,void 0,void 0,"right",void 0,void 0,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerPopoverMenuReact.bs").make("_6dlp",void 0,void 0,a,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_js_primitive").some(f),!1,void 0,void 0,200,[]))])))}c=a;f.handleManageGroupLinkClick=i;f.make=c}),null);
__d("MessengerInfoPanelGroupLinkContainerReact.bs",["fbt","React","ReasonReact.bs","bs_js_primitive","MessengerGroupLinkSectionReact.bs","MessengerInfoPanelSectionReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a.preventDefault();return 0}var h=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelGroupLinkContainerReact");function i(a,c,d,e,f){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var f=d.joinable_link;if(!(f==null)&&f!=="")return b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelSectionReact.bs").make(b("bs_js_primitive").nullable_to_opt(d.solid_color),!0,a,c,g._("\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e01\u0e25\u0e38\u0e48\u0e21"),[b("React").createElement(b("MessengerGroupLinkSectionReact.bs").make,{joinableLink:f,viewer:e,threadID:d.thread_id})]));else return null},h[9],h[10],h[11],h[12]]}c=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.isCollapsed,a.onToggle,a.thread,a.viewer,[])});f.preventDefault=a;f.component=h;f.make=i;f.jsComponent=c}),null);
__d("messengerInfoPanelGroupLinkContainerReactComponent",["MessengerInfoPanelGroupLinkContainerReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerInfoPanelGroupLinkContainerReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerUserControlsButtonReact.bs",["ix","fbt","Image.bs","LinkReact.bs","MercuryIDs","ReasonReact.bs","MessengerDialogs.bs","MessengerMenuReact.bs","MessengerPageUtils.bs","MercuryThreadActions","MessengerMuteDialogReact.bs","MessengerPopoverMenuReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),j=h._("\u0e40\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),k=h._("\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"),l=h._("\u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"),m=g("464335"),n=g("464334");function a(a){__p&&__p();var c=a.className,d=a.isMuted,e=a.isBlocked,f=a.pageID,g=a.threadID,h=a.viewer;a=function(){if(e){b("MercuryThreadActions").getForFBID(h).unblockOnMessengerDotCom(g);return b("MessengerPageUtils.bs").changeBlockedStatus(!1,b("MercuryIDs").getParticipantIDFromUserID(f),h)}else{b("MercuryThreadActions").getForFBID(h).blockOnMessengerDotCom(g);return b("MessengerPageUtils.bs").changeBlockedStatus(!0,b("MercuryIDs").getParticipantIDFromUserID(f),h)}};var o=function(a){b("MercuryThreadActions").getForFBID(h).updateMuteSetting(g,a);return 0},p=function(){if(d){b("MercuryThreadActions").getForFBID(h).unmute(g);return 0}else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(o,[]))})},q=d?j:i;q=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,q,p,void 0,[]));p=e?l:k;p=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,p,a,void 0,[]));a=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").Menu[0]([q,p]));q=e?n:m;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerPopoverMenuReact.bs").make(c,void 0,void 0,a,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,q,32,void 0,40,void 0,[]))]))]))}c=a;f.mute=i;f.unmute=j;f.block=k;f.unblock=l;f.unblocked_button_image_path=m;f.blocked_button_image_path=n;f.make=c}),null);
__d("BootloadableMessengerUserControlsButtonReact.bs",["MessengerUserControlsButtonReact.bs"],(function(a,b,c,d,e,f){"use strict";a=[b("MessengerUserControlsButtonReact.bs").mute,b("MessengerUserControlsButtonReact.bs").unmute,b("MessengerUserControlsButtonReact.bs").block,b("MessengerUserControlsButtonReact.bs").unblock,b("MessengerUserControlsButtonReact.bs").unblocked_button_image_path,b("MessengerUserControlsButtonReact.bs").blocked_button_image_path,b("MessengerUserControlsButtonReact.bs").make];f.bootloadable=a}),null);
__d("MessengerSharePreviewStore",["FantaTypeSharePreview","MessengerActions","MessengerStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerSharePreviewStore1=b("immutable").Map({});return c}var d=c.prototype;d.getState=function(){return this.$MessengerSharePreviewStore1};d.__onDispatch=function(a){__p&&__p();var c=a.threadID;switch(a.type){case b("MessengerActions").Types.LINK_PREVIEW:var d=a.match;this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){a.get(c)||a.set(c,new(b("FantaTypeSharePreview"))());var e=a.get(c);a.set(c,e.merge({params:null,type:null,uri:d}))});this.emitChange();break;case b("MessengerActions").Types.LOADING_SHARE_DATA:this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){var b=a.get(c);if(!b)return;a.set(c,b.merge({isLoading:!0,params:null,type:null}))});this.emitChange();break;case b("MessengerActions").Types.LOADED_SHARE_DATA:a=a.attachmentData;var e=a.share_data;this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){var d=a.get(c);if(!d)return;a.set(c,d.merge({isLoading:!1,params:b("immutable").Map({data:e.share_params}),type:e.share_type}))});this.emitChange();break;case b("MessengerActions").Types.REMOVE_SHARE_PREVIEW:this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){a.get(c)&&a.set(c,new(b("FantaTypeSharePreview"))())});this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerUploadFilesStore",["fbt","ChatFileUploadLoggingUtils","Dialog","FantaTypeFileUploader","FantaTypeFileUploaderFile","FBLogger","LogHistory","MercuryConstants","MessengerActions","MessengerStore","PhotosUploadID","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("messenger_share_file_preview");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerUploadFilesStore1=b("immutable").Map({});return c}var d=c.prototype;d.getState=function(){return this.$MessengerUploadFilesStore1};d.__onDispatch=function(a){__p&&__p();var c,d=a.threadID,e=a.uploadID;switch(a.type){case b("MessengerActions").Types.PREPARE_FILES_FOR_SEND:h.log("Add files "+d,JSON.stringify(a));var f=a.files;this.$MessengerUploadFilesStore1=i(this.$MessengerUploadFilesStore1,d,f);this.emitChange();break;case b("MessengerActions").Types.CANCEL_FILE_UPLOAD:h.debug("Remove file "+d,JSON.stringify(a));f=this.$MessengerUploadFilesStore1.get(d);c=f.get("uploadingFiles").get(e);c?this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.deleteIn([d,"uploadingFiles",e]):(c=f.get("uploadedFiles").get(e),c&&(this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.deleteIn([d,"uploadedFiles",e])));this.emitChange();break;case b("MessengerActions").Types.EMPTY_FILES:h.debug("Empty files "+d,JSON.stringify(a));this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.withMutations(function(a){a.get(d)&&a.set(d,new(b("FantaTypeFileUploader"))())});this.emitChange();break}};return c}(b("MessengerStore"));function i(a,c,d){__p&&__p();for(var e=0;e<d.length;e++){var f=d[e];b("ChatFileUploadLoggingUtils").log(f);if(f.size>b("MercuryConstants").AttachmentMaxSize){new(b("Dialog"))().setTitle(g._("The file you have selected is too large")).setBody(g._("The file you have selected is too large. The maximum size is 25MB.")).setButtons(b("Dialog").OK).setSemiModal(!0).show();b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return a}}for(var f=0;f<d.length;f++){e=d[f];var h=k();a=j(a,c,h,e)}return a}function j(a,c,d,e){return a.withMutations(function(a){a.get(c)||a.set(c,new(b("FantaTypeFileUploader"))());var f=a.get(c);a.set(c,f.setIn(["uploadedFiles",d],new(b("FantaTypeFileUploaderFile"))({file:e,id:d,startTime:Date.now()})))})}function k(){return"upload_"+b("PhotosUploadID").getNewID()}e.exports=new a()}),null);